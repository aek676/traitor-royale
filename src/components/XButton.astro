---
const { scale = 1 } = Astro.props;
---

<div class="my-button-wrapper" style={`--scale: ${scale};`}>
    <button class="couche1">
        <div class="couche2">
            <div class="couche23">
                <div class="couche3">
                    <div class="couche4"></div>
                    <div class="battle">x</div>
                </div>
            </div>
        </div>
    </button>
</div>

<style>
    .my-button-wrapper {
        display: inline-block;
        width: calc(60px * var(--scale));
        height: calc(60px * var(--scale));
        position: relative;
    }

    .couche1 {
        position: absolute;
        top: 50%;
        left: 50%;
        -webkit-border-radius: 12px;
        -moz-border-radius: 12px;
        border-radius: 12px;
        width: 60px;
        height: 60px;
        background: black;
        -webkit-box-shadow: 0px 6px 1px #301c09;
        -moz-box-shadow: 0px 6px 1px #301c09;
        box-shadow: 0px 6px 1px #301c09;
        cursor: pointer;

        margin: 0;
        border: none;
        padding: 0;

        transform: translate(-50%, -50%) scale(var(--scale));
        transform-origin: center;
    }

    .couche2 {
        position: absolute;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        width: 56px;
        height: 56px;
        top: 2px;
        left: 2px;
        background: #e74e3e;
        -webkit-box-shadow: 0px 5px 0px #8d251c;
        -moz-box-shadow: 0px 5px 0px #8d251c;
        box-shadow: 0px 5px 0px #8d251c;
    }

    .couche23 {
        position: absolute;
        -webkit-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        width: 52px;
        height: 52px;
        top: 2px;
        left: 2px;
        -webkit-box-shadow: 0px -4px 5px 0px #e74e3e;
        -moz-box-shadow: 0px -4px 5px 0px #e74e3e;
        box-shadow: 0px -4px 5px 0px #e74e3e;
    }

    .couche3 {
        position: absolute;
        -webkit-border-radius: 8px;
        -moz-border-radius: 8px;
        border-radius: 8px;
        top: 1px;
        left: 1px;
        width: 50px;
        height: 50px;
        background: rgba(255, 77, 65, 1);
        -webkit-box-shadow: 0px 4px 3px 0px #e74e3e;
        -moz-box-shadow: 0px 4px 3px 0px #e74e3e;
        box-shadow: 0px 4px 3px 0px #e74e3e;
    }

    .couche4 {
        position: absolute;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
        border-radius: 6px;
        top: 2px;
        left: 2px;
        width: 46px;
        height: 22px;
        background: #ef8683;
    }

    .battle {
        position: absolute;
        font-style: normal;
        font-weight: 400;
        color: #ffffcc;
        font-size: 2em;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow:
            -1px 0 1px #582e00,
            1px 0 1px #582e00,
            0 -1px 1px #582e00,
            0 4px 1px #582e00,
            -2px 4px 1px #582e00,
            2px 3px 2px #582e00;

        white-space: nowrap;
        line-height: 1;
        padding-bottom: 4px;
    }

    .couche1:active {
        transform: translate(-50%, -50%) scale(calc(var(--scale) * 0.95))
            translateY(5px);
    }

    .couche1:active .battle {
        font-size: 1.9em;
    }

    .couche1:disabled,
    .couche1[data-disabled="true"] {
        filter: grayscale(100%);
        opacity: 0.7;
        cursor: not-allowed;
    }
</style>
